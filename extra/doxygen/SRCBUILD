version=1.8.12
description="A documentation system for C++, C, Java, IDL and PHP"
depends=('gcc') # 'graphviz'
makedepends=('flex' 'bison' 'ghostscript' 'python' 'cmake')
sources=("http://ftp.stack.nl/pub/users/dimitri/doxygen-$version.src.tar.gz")

src_compile() {
    mkdir -p "$SOURCE_DIR/build"
    cd "$SOURCE_DIR/build"

    cmake "../doxygen-$version" \
        -DCMAKE_INSTALL_PREFIX:PATH=/usr \
        -Dbuild_doc=OFF \
        -Dbuild_wizard=OFF

    make
}

src_install() {
    cd "$SOURCE_DIR/build"
    make DESTDIR="$INSTALL_DIR" install
}
