# Maintainer: Ivailo Monev <xakepa10@gmail.com>

version=1.8.17
description="A documentation system for C++, C, Java, IDL and PHP"
depends=('gcc') # 'graphviz'
makedepends=('flex' 'bison' 'ghostscript' 'python' 'cmake')
sources=("https://github.com/doxygen/doxygen/archive/Release_1_8_17.tar.gz")
options=('!mirror')

src_compile() {
    mkdir -p "$SOURCE_DIR/build"
    cd "$SOURCE_DIR/build"

    cmake "../doxygen-Release_1_8_17" \
        -DCMAKE_INSTALL_PREFIX=/usr \
        -Dbuild_doc=OFF \
        -Dbuild_wizard=OFF

    make
}

src_install() {
    cd "$SOURCE_DIR/build"
    make DESTDIR="$INSTALL_DIR" install
}
