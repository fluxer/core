# Maintainer: Ivailo Monev <xakepa10@gmail.com>

# http://www.linuxfromscratch.org/blfs/view/svn/postlfs/gpgme.html

version=1.13
description="A C wrapper library for GnuPG"
depends=('gnupg2')
makedepends=('libgpg-error' 'libassuan')
sources=("https://gnupg.org/ftp/gcrypt/gpgme/gpgme-$version.tar.bz2"
        "https://gnupg.org/ftp/gcrypt/gpgme/gpgme-$version.tar.bz2.sig")
pgpkeys=('249B39D24F25E3B6')

src_compile() {
    cd "$SOURCE_DIR/gpgme-$version"

    ./configure --prefix=/usr \
        --disable-fd-passing \
        --disable-static \
        --disable-gpgsm-test
    make
}

src_check() {
    cd "$SOURCE_DIR/gpgme-$version"
    make check
}

src_install() {
    cd "$SOURCE_DIR/gpgme-$version"
    make DESTDIR="$INSTALL_DIR" install
}
