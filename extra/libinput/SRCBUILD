# Maintainer: Ivailo Monev <xakepa10@gmail.com>

# http://www.linuxfromscratch.org/blfs/view/svn/x/x7driver.html#libinput

version=1.14.3
description="library that handles input devices for display servers and other applications that need to directly deal with input devices."
depends=('mtdev' 'eudev' 'libevdev')
makedepends=('meson' 'ninja')
sources=("http://freedesktop.org/software/libinput/libinput-$version.tar.xz"
        "http://freedesktop.org/software/libinput/libinput-$version.tar.xz.sig")
pgpkeys=('3C2C43D9447D5938EF4551EBE23B7E70B467F0BF')

src_compile() {
    cd "$SOURCE_DIR/libinput-$version"

    mkdir -p build
    meson build -Dprefix=/usr \
        -Dudev-dir=/usr/lib/udev \
        -Dlibwacom=false \
        -Ddebug-gui=false \
        -Dtests=false \
        -Ddocumentation=false
    ninja -C build
}

src_install() {
    cd "$SOURCE_DIR/libinput-$version/build"
    DESTDIR="$INSTALL_DIR" ninja install
}
